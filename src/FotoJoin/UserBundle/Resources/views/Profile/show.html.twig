{% extends "FotoJoinControlPanelBundle:Base:layout.html.twig" %}

{% trans_default_domain 'FotoJoinUserBundle' %}

{% block title %}{{ 'profile.show.title'|trans }}{% endblock %}

{% block controlpanel %}

<div id="page-wrapper">
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">{{ icon('square-o fa-fw') }}{{ 'profile.show.title'|trans }}</h1>
            {% include 'FotoJoinControlPanelBundle:Base:flashbag.html.twig' %}
            <div class="panel panel-default">
                <div class="panel-body">
                    <h3>{{ icon('user fa-fw') }}Informaci칩n Personal</h3>
                    <dl class="dl-horizontal dl-horizontal-sm dl-horizontal-md dl-horizontal-lg">
                        {% if user.name %}<dt>{{ 'form.name'|trans }}</dt><dd>{{ user.name }}</dd>{% endif %}
                        {% if user.birthdate %}<dt>{{ 'form.birthdate'|trans }}</dt><dd>{{ user.birthdate|localizeddate('full', 'full', 'es_ES', 'America/Santiago', "dd 'de' LLLL 'de' Y") }}</dd>{% endif %}
                    </dl>

                    <hr><h3>{{ icon('map-marker fa-fw') }}Mis Ciudades de Cobertura</h3>
                    <dl class="dl-horizontal dl-horizontal-sm dl-horizontal-md dl-horizontal-lg">
                        {#}{% if user.country %}<dt>{{ 'form.country'|trans }}</dt><dd>{{ user.country|country }}</dd>{% endif %}{#}
                        {% if user.city1 %}<dt>{{ 'form.city.1'|trans }}</dt><dd>{{ user.city1 }}</dd>{% endif %}
                        {% if user.city2 %}<dt>{{ 'form.city.2'|trans }}</dt><dd>{{ user.city2 }}</dd>{% endif %}
                        {% if user.city3 %}<dt>{{ 'form.city.3'|trans }}</dt><dd>{{ user.city3 }}</dd>{% endif %}
                    </dl>

                    <hr><h3>{{ icon('user fa-fw') }}Informaci칩n de Usuario</h3>
                    <dl class="dl-horizontal dl-horizontal-sm dl-horizontal-md dl-horizontal-lg">
                        {% if user.email %}<dt>{{ 'form.email'|trans }}</dt><dd>{{ user.email }}</dd>{% endif %}
                    </dl>

                    {% if is_granted('ROLE_AUTHOR') %}
                    <hr><h3>{{ icon('camera fa-fw') }}Informaci칩n Fotogr치fica</h3>
                    <dl class="dl-horizontal dl-horizontal-sm dl-horizontal-md dl-horizontal-lg">
                        {% if user.level is not null %}<dt>{{ 'form.level.type'|trans }}</dt><dd>{{ user_level[user.level]|trans }}</dd>{% endif %}
{#}
                        {% if user.exigency is not null %}<dt>{{ 'form.exigency.type'|trans }}</dt><dd>{{ user.exigency }}</dd>{% endif %}
{#}
                        {% if user.description %}<dt>{{ 'form.description'|trans }}</dt><dd>{{ user.description }}</dd>{% endif %}
                    </dl>
                    {% endif %}

                </div>
                <div class="panel-footer">
                    <div class="btn-toolbar">
                        <a type="button" class="btn btn-primary" href="{{ path('fos_user_profile_edit') }}">{{ icon('edit') }}&nbsp;{{ 'profile.edit.link'|trans }}</a>
                        <a type="button" class="btn btn-primary" href="{{ path('fos_user_change_password', { 'id': user.id }) }}">{{ icon('unlock') }}&nbsp;{{ 'change_password.link'|trans }}</a>
                        {% if not is_granted('ROLE_AUTHOR') %}
                            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#modalUpgrade">{{ icon('camera') }}&nbsp;{{ 'upgrade.link'|trans }}</button>
                            <div class="modal fade" id="modalUpgrade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                                <div class="modal-dialog modal-md" role="document">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                            <h4 class="modal-title" id="myModalLabel">{{ 'upgrade.title'|trans }}</h4>
                                        </div>
                                        <div class="modal-body">
                                            <p>{{ 'upgrade.message'|trans }}</p>
                                        </div>
                                        <div class="modal-footer">
                                            {{ form_start(upgradeForm) }}
                                            <button type="submit" class="btn btn-primary">{{ icon('check') }}&nbsp;{{ 'upgrade.confirm'|trans }}</button>
                                            {{ form_end(upgradeForm) }}
                                        </div>
                                    </div>
                                </div>
                            </div>

                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}